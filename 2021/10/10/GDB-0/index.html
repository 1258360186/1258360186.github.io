<!DOCTYPE html><html lang="zh-CN"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta name="keywords" content="Hexo Theme Keep"><meta name="description" content="blog"><meta name="author" content="ç™½ç¾½è¿‘å¢¨"><title>å¯åŠ¨ GDB è°ƒè¯• | ç™½ç¾½å°ç«™</title><link rel="stylesheet" href="/css/style.css"><link rel="shortcut icon" href="/images/mylogo.svg"><link rel="stylesheet" href="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.5/source/css/font-awesome.min.css"><script id="hexo-configurations">let KEEP=window.KEEP||{};KEEP.hexo_config={hostname:"example.com",root:"/",language:"zh-CN",path:"search.json"},KEEP.theme_config={toc:{enable:!0,number:!0,expand_all:!1,init_open:!0},style:{primary_color:"#0066CC",avatar:"/images/author.svg",favicon:"/images/mylogo.svg",article_img_align:"center",left_side_width:"260px",content_max_width:"920px",hover:{shadow:!0,scale:!0},first_screen:{enable:!0,background_img:"/images/bg.svg",description:"ç§ä¸€æ£µæ ‘ï¼Œæœ€å¥½çš„æ—¶é—´æ˜¯åå¹´å‰,å…¶æ¬¡æ˜¯ç°åœ¨ã€‚"},scroll:{progress_bar:{enable:!0},percent:{enable:!0}}},local_search:{enable:!0,preload:!0},code_copy:{enable:!0,style:"default"},pjax:{enable:!0},lazyload:{enable:!0},version:"3.4.5"},KEEP.language_ago={second:"%s ç§’å‰",minute:"%s åˆ†é’Ÿå‰",hour:"%s å°æ—¶å‰",day:"%s å¤©å‰",week:"%s å‘¨å‰",month:"%s ä¸ªæœˆå‰",year:"%s å¹´å‰"}</script><meta name="generator" content="Hexo 5.4.2"><style>mjx-container[jax=SVG]{direction:ltr}mjx-container[jax=SVG]>svg{overflow:visible}mjx-container[jax=SVG][display=true]{display:block;text-align:center;margin:1em 0}mjx-container[jax=SVG][justify=left]{text-align:left}mjx-container[jax=SVG][justify=right]{text-align:right}g[data-mml-node=merror]>g{fill:red;stroke:red}g[data-mml-node=merror]>rect[data-background]{fill:#ff0;stroke:none}g[data-mml-node=mtable]>line[data-line]{stroke-width:70px;fill:none}g[data-mml-node=mtable]>rect[data-frame]{stroke-width:70px;fill:none}g[data-mml-node=mtable]>.mjx-dashed{stroke-dasharray:140}g[data-mml-node=mtable]>.mjx-dotted{stroke-linecap:round;stroke-dasharray:0,140}g[data-mml-node=mtable]>svg{overflow:visible}[jax=SVG] mjx-tool{display:inline-block;position:relative;width:0;height:0}[jax=SVG] mjx-tool>mjx-tip{position:absolute;top:0;left:0}mjx-tool>mjx-tip{display:inline-block;padding:.2em;border:1px solid #888;font-size:70%;background-color:#f8f8f8;color:#000;box-shadow:2px 2px 5px #aaa}g[data-mml-node=maction][data-toggle]{cursor:pointer}mjx-status{display:block;position:fixed;left:1em;bottom:1em;min-width:25%;padding:.2em .4em;border:1px solid #888;font-size:90%;background-color:#f8f8f8;color:#000}foreignObject[data-mjx-xml]{font-family:initial;line-height:normal;overflow:visible}.MathJax path{stroke-width:3}mjx-container[display=true]{overflow:auto hidden}mjx-container[display=true]+br{display:none}</style><link rel="alternate" href="/atom.xml" title="baiyu" type="application/atom+xml">
<link rel="stylesheet" href="\assets\css\APlayer.min.css" class="aplayer-style-marker">
<script src="\assets\js\APlayer.min.js" class="aplayer-script-marker"></script>
<script src="\assets\js\Meting.min.js" class="meting-script-marker"></script>
</head><body><div class="progress-bar-container"><span class="scroll-progress-bar"></span> <span class="pjax-progress-bar"></span> <span class="pjax-progress-icon"><i class="fas fa-circle-notch fa-spin"></i></span></div><main class="page-container"><div class="page-main-content"><div class="page-main-content-top"><header class="header-wrapper"><div class="header-content"><div class="left"><a class="logo-image" href="/"><img src="/images/mylogo.svg"> </a><a class="logo-title" href="/">ç™½ç¾½å°ç«™</a></div><div class="right"><div class="pc"><ul class="menu-list"><li class="menu-item"><a href="/">é¦–é¡µ</a></li><li class="menu-item"><a href="/archives">å½’æ¡£</a></li><li class="menu-item"><a href="/categories">åˆ†ç±»</a></li><li class="menu-item"><a href="/tags">æ ‡ç­¾</a></li><li class="menu-item"><a href="/links">å‹é“¾</a></li><li class="menu-item"><a href="/about">å…³äº</a></li><li class="menu-item search search-popup-trigger"><i class="fas fa-search"></i></li></ul></div><div class="mobile"><div class="icon-item search search-popup-trigger"><i class="fas fa-search"></i></div><div class="icon-item menu-bar"><div class="menu-bar-middle"></div></div></div></div></div><div class="header-drawer"><ul class="drawer-menu-list"><li class="drawer-menu-item flex-center"><a href="/">é¦–é¡µ</a></li><li class="drawer-menu-item flex-center"><a href="/archives">å½’æ¡£</a></li><li class="drawer-menu-item flex-center"><a href="/categories">åˆ†ç±»</a></li><li class="drawer-menu-item flex-center"><a href="/tags">æ ‡ç­¾</a></li><li class="drawer-menu-item flex-center"><a href="/links">å‹é“¾</a></li><li class="drawer-menu-item flex-center"><a href="/about">å…³äº</a></li></ul></div><div class="window-mask"></div></header></div><div class="page-main-content-middle"><div class="main-content"><div class="fade-in-down-animation"><div class="article-content-container"><div class="article-title"><span class="title-hover-animation">å¯åŠ¨ GDB è°ƒè¯•</span></div><div class="article-header"><div class="avatar"><img src="/images/author.svg"></div><div class="info"><div class="author"><span class="name">ç™½ç¾½è¿‘å¢¨</span> <span class="author-label">Lv5</span></div><div class="meta-info"><div class="article-meta-info"><span class="article-date article-meta-item"><i class="fas fa-edit"></i>&nbsp; <span class="pc">2021-10-10 15:44:40</span> <span class="mobile">2021-10-10 15:44</span> </span><span class="article-categories article-meta-item"><i class="fas fa-folder"></i>&nbsp;<ul><li><a href="/categories/Linux-GDB-%E8%B0%83%E8%AF%95%E6%8C%87%E5%8D%97/">Linux GDB è°ƒè¯•æŒ‡å—</a>&nbsp;</li></ul></span><span class="article-tags article-meta-item"><i class="fas fa-tags"></i>&nbsp;<ul><li><a href="/tags/Linux/">Linux</a>&nbsp;</li><li>| <a href="/tags/C-%E5%BC%80%E5%8F%91/">C++ å¼€å‘</a>&nbsp;</li><li>| <a href="/tags/GDB/">GDB</a>&nbsp;</li></ul></span><span class="article-wordcount article-meta-item"><i class="fas fa-file-word"></i>&nbsp;<span>3.1k å­—</span> </span><span class="article-min2read article-meta-item"><i class="fas fa-clock"></i>&nbsp;<span>13 åˆ†é’Ÿ</span> </span><span class="article-pv article-meta-item"><i class="fas fa-eye"></i>&nbsp;<span id="busuanzi_value_page_pv"></span></span></div></div></div></div><div class="article-content markdown-body"><h4 id="éŸ³ä¹å°æ¸¯"><a href="#éŸ³ä¹å°æ¸¯" class="headerlink" title="éŸ³ä¹å°æ¸¯"></a>éŸ³ä¹å°æ¸¯</h4><div id="aplayer-suongkuG" class="aplayer aplayer-tag-marker meting-tag-marker" data-id="1378282335" data-server="netease" data-type="song" data-mode="circulation" data-autoplay="false" data-mutex="true" data-listmaxheight="340px" data-preload="auto" data-theme="#555"></div><hr><h1 id="å¯åŠ¨-GDB-è°ƒè¯•"><a href="#å¯åŠ¨-GDB-è°ƒè¯•" class="headerlink" title="å¯åŠ¨ GDB è°ƒè¯•"></a>å¯åŠ¨ GDB è°ƒè¯•</h1><p>ä½¿ç”¨ GDB è°ƒè¯•ç¨‹åºä¸€èˆ¬æœ‰ä¸‰ç§æ–¹å¼ï¼š</p><ul><li>gdb filename</li><li>gdb attach pid</li><li>gdb filename corename</li></ul><p>è¿™ä¹Ÿå¯¹åº”ç€æœ¬èŠ‚è¯¾çš„æ ¸å¿ƒå†…å®¹ï¼š</p><ul><li>ç›´æ¥è°ƒè¯•ç›®æ ‡ç¨‹åº</li><li>é™„åŠ è¿›ç¨‹</li><li>è°ƒè¯• core æ–‡ä»¶<br>æ¥ä¸‹æ¥æˆ‘ä»¬é€ä¸€è®²è§£ã€‚</li></ul><h2 id="ç›´æ¥è°ƒè¯•ç›®æ ‡ç¨‹åº"><a href="#ç›´æ¥è°ƒè¯•ç›®æ ‡ç¨‹åº" class="headerlink" title="ç›´æ¥è°ƒè¯•ç›®æ ‡ç¨‹åº"></a>ç›´æ¥è°ƒè¯•ç›®æ ‡ç¨‹åº</h2><p>åœ¨å¼€å‘é˜¶æ®µæˆ–è€…ç ”ç©¶åˆ«äººçš„é¡¹ç›®æ—¶ï¼Œå½“ç¼–è¯‘æˆåŠŸç”Ÿæˆç›®æ ‡äºŒè¿›åˆ¶æ–‡ä»¶åï¼Œå¯ä»¥ä½¿ç”¨ <strong>gdb filename</strong> ç›´æ¥å¯åŠ¨è¿™ä¸ªç¨‹åºçš„è°ƒè¯•ï¼Œå…¶ä¸­ <strong>filename</strong> æ˜¯éœ€è¦å¯åŠ¨çš„è°ƒè¯•ç¨‹åºæ–‡ä»¶åï¼Œè¿™ç§æ–¹å¼æ˜¯ç›´æ¥ä½¿ç”¨ GDB å¯åŠ¨ä¸€ä¸ªç¨‹åºè¿›è¡Œè°ƒè¯•ã€‚æ³¨æ„è¿™é‡Œè¯´çš„<strong>å¯åŠ¨ä¸€ä¸ªç¨‹åºè¿›è¡Œè°ƒè¯•</strong>å…¶å®ä¸ä¸¥è°¨ï¼Œå› ä¸ºå®é™…ä¸Šåªæ˜¯é™„åŠ ï¼ˆattachï¼‰äº†ä¸€ä¸ªå¯æ‰§è¡Œæ–‡ä»¶ï¼Œå¹¶æ²¡æœ‰æŠŠç¨‹åºå¯åŠ¨èµ·æ¥ï¼›æ¥ç€éœ€è¦è¾“å…¥run å‘½ä»¤ï¼Œç¨‹åºæ‰ä¼šçœŸæ­£çš„è¿è¡Œèµ·æ¥ã€‚å…³äº <strong>run</strong> å‘½ä»¤åé¢çš„è¯¾ç¨‹ä¸­ä¼šè¯¦ç»†ä»‹ç»ã€‚ä¸Šä¸€è¯¾çš„ GDB è°ƒè¯• hello_server ç³»åˆ—å°±æ˜¯ä½¿ç”¨çš„è¿™ç§æ–¹å¼ã€‚</p><p>å‡è®¾ç°åœ¨æœ‰ä¸€ä¸ªç¨‹åºå« <strong>fileserver</strong>ï¼Œä½¿ç”¨ <strong>gdb fileserver</strong> é™„åŠ è¯¥ç¨‹åºï¼Œç„¶åä½¿ç”¨ <strong>run</strong> å‘½ä»¤å¯åŠ¨è¯¥ç¨‹åºã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><img lazyload="" src="/images/loading.svg" data-src="https://cdn.jsdelivr.net/gh/1258360186/image_hosting@master/20211010/gdb6.10736za5ayvk.jpg" alt="gdb6"></p><h2 id="é™„åŠ è¿›ç¨‹"><a href="#é™„åŠ è¿›ç¨‹" class="headerlink" title="é™„åŠ è¿›ç¨‹"></a>é™„åŠ è¿›ç¨‹</h2><p>åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œä¸€ä¸ªç¨‹åºå·²ç»å¯åŠ¨äº†ï¼Œæˆ‘ä»¬æƒ³è°ƒè¯•è¿™ä¸ªç¨‹åºï¼Œä½†æ˜¯åˆä¸æƒ³é‡å¯è¿™ä¸ªç¨‹åºã€‚å‡è®¾æœ‰è¿™æ ·ä¸€ä¸ªåœºæ™¯ï¼Œæˆ‘ä»¬çš„èŠå¤©æµ‹è¯•æœåŠ¡å™¨ç¨‹åºæ­£åœ¨è¿è¡Œï¼Œè¿è¡Œä¸€æ®µæ—¶é—´ä¹‹åï¼Œå‘ç°è¿™ä¸ªèŠå¤©æœåŠ¡å™¨ä¸èƒ½æ¥å—æ–°çš„å®¢æˆ·ç«¯è¿æ¥äº†ï¼Œè¿™æ—¶è‚¯å®šæ˜¯ä¸èƒ½é‡å¯ç¨‹åºçš„ï¼Œå¦‚æœé‡å¯ï¼Œå½“å‰ç¨‹åºçš„å„ç§çŠ¶æ€ä¿¡æ¯å°±ä¸¢å¤±äº†ã€‚æ€ä¹ˆåŠå‘¢ï¼Ÿå¯ä»¥ä½¿ç”¨ <strong>gdb attach è¿›ç¨‹ ID</strong> æ¥å°† GDB è°ƒè¯•å™¨é™„åŠ åˆ°èŠå¤©æµ‹è¯•æœåŠ¡å™¨ç¨‹åºä¸Šã€‚ä¾‹å¦‚ï¼Œå‡è®¾èŠå¤©ç¨‹åºå« chatserverï¼Œå¯ä»¥ä½¿ç”¨ ps å‘½ä»¤è·å–è¯¥è¿›ç¨‹çš„ PIDï¼Œç„¶åä½¿ç”¨ gdb attach å°±å¯ä»¥è°ƒè¯•äº†ï¼Œæ“ä½œå¦‚ä¸‹ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[zhangyl@iZ238vnojlyZ flamingoserver]$ ps -ef | grep chatserver</span><br><span class="line">zhangyl  21462 21414  0 18:00 pts/2    00:00:00 grep --color=auto chatserver</span><br><span class="line">zhangyl  26621     1  5 Oct10 ?        2-17:54:42 ./chatserver -d</span><br></pre></td></tr></table></figure><p>å®é™…æ‰§è¡Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><img lazyload="" src="/images/loading.svg" data-src="https://cdn.jsdelivr.net/gh/1258360186/image_hosting@master/20211010/gdb5.3gwo4mbem6s0.JPG" alt="gdb5"></p><p>é€šè¿‡ä»¥ä¸Šä»£ç å¾—åˆ° chatserver çš„ PID ä¸º 26621ï¼Œç„¶åä½¿ç”¨ <strong>gdb attach 26621</strong> æŠŠ GDB é™„åŠ åˆ° chatserver è¿›ç¨‹ï¼Œæ“ä½œå¹¶è¾“å‡ºå¦‚ä¸‹ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">[zhangyl@localhost flamingoserver]$ gdb attach 26621</span><br><span class="line">Attaching to process 26661</span><br><span class="line">Reading symbols from /home/zhangyl/flamingoserver/chatserver...done.</span><br><span class="line">Reading symbols from /usr/lib64/mysql/libmysqlclient.so.18...Reading symbols from /usr/lib64/mysql/libmysqlclient.so.18...(no debugging symbols found)...done.</span><br><span class="line">Reading symbols from /lib64/libpthread.so.0...(no debugging symbols found)...done.</span><br><span class="line">[New LWP 42931]</span><br><span class="line">[New LWP 42930]</span><br><span class="line">[New LWP 42929]</span><br><span class="line">[New LWP 42928]</span><br><span class="line">[New LWP 42927]</span><br><span class="line">[New LWP 42926]</span><br><span class="line">[New LWP 42925]</span><br><span class="line">[New LWP 42924]</span><br><span class="line">[New LWP 42922]</span><br><span class="line">[Thread debugging using libthread_db enabled]</span><br><span class="line">Using host libthread_db library "/lib64/libthread_db.so.1".</span><br><span class="line">Loaded symbols for /lib64/libpthread.so.0</span><br><span class="line">Reading symbols from /lib64/libc.so.6...(no debugging symbols found)...done.</span><br></pre></td></tr></table></figure><p>ä¸ºäº†èŠ‚çº¦ç¯‡å¹…ï¼Œä¸Šè¿°ä»£ç ä¸­æˆ‘åˆ æ‰äº†ä¸€äº›æ— å…³çš„ä¿¡æ¯ã€‚å½“æç¤º â€œ<strong>Attaching to process 26621</strong>â€ æ—¶å°±è¯´æ˜æˆ‘ä»¬å·²ç»æˆåŠŸåœ°å°† GDB é™„åŠ åˆ°ç›®æ ‡è¿›ç¨‹äº†ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œç¨‹åºä½¿ç”¨äº†ä¸€äº›ç³»ç»Ÿåº“ï¼ˆå¦‚ libc.soï¼‰ï¼Œç”±äºè¿™æ˜¯å‘è¡Œç‰ˆæœ¬çš„ Linux ç³»ç»Ÿï¼Œè¿™äº›åº“æ˜¯æ²¡æœ‰è°ƒè¯•ç¬¦å·çš„ï¼Œå› è€Œ GDB ä¼šæç¤ºæ‰¾ä¸åˆ°è¿™äº›åº“çš„è°ƒè¯•ç¬¦å·ã€‚å› ä¸ºç›®çš„æ˜¯è°ƒè¯• chatserverï¼Œå¯¹ç³»ç»Ÿ API è°ƒç”¨çš„å†…éƒ¨å®ç°å¹¶ä¸å…³æ³¨ï¼Œæ‰€ä»¥è¿™äº›æç¤ºå¯ä»¥ä¸ç”¨å…³æ³¨ï¼Œåªè¦ chatserver è¿™ä¸ªæ–‡ä»¶æœ‰è°ƒè¯•ä¿¡æ¯å³å¯ã€‚</p><p>å½“ç”¨ gdb attach ä¸Šç›®æ ‡è¿›ç¨‹åï¼Œè°ƒè¯•å™¨ä¼šæš‚åœä¸‹æ¥ï¼Œæ­¤æ—¶å¯ä»¥ä½¿ç”¨ continue å‘½ä»¤è®©ç¨‹åºç»§ç»­è¿è¡Œï¼Œæˆ–è€…åŠ ä¸Šç›¸åº”çš„æ–­ç‚¹å†ç»§ç»­è¿è¡Œç¨‹åºï¼ˆè¿™é‡Œæåˆ°çš„ continue å‘½ä»¤ä¸ç†Ÿæ‚‰ä¹Ÿæ²¡æœ‰å…³ç³»ï¼Œåç»­ä¼šè¯¦ç»†ä»‹ç»è¿™äº›å‘½ä»¤çš„ä½¿ç”¨æ–¹æ³•ï¼‰ã€‚</p><p>å½“è°ƒè¯•å®Œç¨‹åºæƒ³ç»“æŸæ­¤æ¬¡è°ƒè¯•æ—¶ï¼Œè€Œä¸”ä¸å¯¹å½“å‰è¿›ç¨‹ chatserver æœ‰ä»»ä½•å½±å“ï¼Œä¹Ÿå°±æ˜¯è¯´æƒ³è®©è¿™ä¸ªç¨‹åºç»§ç»­è¿è¡Œï¼Œå¯ä»¥åœ¨ GDB çš„å‘½ä»¤è¡Œç•Œé¢è¾“å…¥ detach å‘½ä»¤è®©ç¨‹åºä¸ GDB è°ƒè¯•å™¨åˆ†ç¦»ï¼Œè¿™æ · chatserver å°±å¯ä»¥ç»§ç»­è¿è¡Œäº†ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">(gdb) detach</span><br><span class="line">Detaching from program: /home/zhangyl/flamingoserver/chatserver, process 42921</span><br></pre></td></tr></table></figure><p>ç„¶åå†é€€å‡º GDB å°±å¯ä»¥äº†ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">(gdb) quit</span><br><span class="line">[zhangyl@localhost flamingoserver]$</span><br></pre></td></tr></table></figure><h2 id="è°ƒè¯•-core-æ–‡ä»¶"><a href="#è°ƒè¯•-core-æ–‡ä»¶" class="headerlink" title="è°ƒè¯• core æ–‡ä»¶"></a>è°ƒè¯• core æ–‡ä»¶</h2><p>æœ‰æ—¶å€™ï¼ŒæœåŠ¡å™¨ç¨‹åºè¿è¡Œä¸€æ®µæ—¶é—´åä¼šçªç„¶å´©æºƒï¼Œè¿™å¹¶ä¸æ˜¯æˆ‘ä»¬å¸Œæœ›çœ‹åˆ°çš„ï¼Œéœ€è¦è§£å†³è¿™ä¸ªé—®é¢˜ã€‚åªè¦ç¨‹åºåœ¨å´©æºƒçš„æ—¶å€™æœ‰ core æ–‡ä»¶äº§ç”Ÿï¼Œå°±å¯ä»¥ä½¿ç”¨è¿™ä¸ª core æ–‡ä»¶æ¥å®šä½å´©æºƒçš„åŸå› ã€‚å½“ç„¶ï¼ŒLinux ç³»ç»Ÿé»˜è®¤æ˜¯ä¸å¼€å¯ç¨‹åºå´©æºƒäº§ç”Ÿ core æ–‡ä»¶è¿™ä¸€æœºåˆ¶çš„ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ ulimit -c å‘½ä»¤æ¥æŸ¥çœ‹ç³»ç»Ÿæ˜¯å¦å¼€å¯äº†è¿™ä¸€æœºåˆ¶ã€‚</p><blockquote><p>é¡ºä¾¿æä¸€å¥ï¼Œulimit è¿™ä¸ªå‘½ä»¤ä¸ä»…ä»…å¯ä»¥æŸ¥çœ‹ core æ–‡ä»¶ç”Ÿæˆæ˜¯å¦å¼€å¯ï¼Œè¿˜å¯ä»¥æŸ¥çœ‹å…¶ä»–çš„ä¸€äº›åŠŸèƒ½ï¼Œæ¯”å¦‚ç³»ç»Ÿå…è®¸çš„æœ€å¤§æ–‡ä»¶æè¿°ç¬¦çš„æ•°é‡ç­‰ï¼Œå…·ä½“å¯ä»¥ä½¿ç”¨ ulimit -a å‘½ä»¤æ¥æŸ¥çœ‹ï¼Œç”±äºè¿™ä¸ªå†…å®¹ä¸æœ¬è¯¾ä¸»é¢˜æ— å…³ï¼Œè¿™é‡Œä¸å†èµ˜è¿°ã€‚</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">[zhangyl@localhost flamingoserver]$ ulimit -a</span><br><span class="line">core file size          (blocks, -c) 0</span><br><span class="line">data seg size           (kbytes, -d) unlimited</span><br><span class="line">scheduling priority             (-e) 0</span><br><span class="line">file size               (blocks, -f) unlimited</span><br><span class="line">pending signals                 (-i) 15045</span><br><span class="line">max locked memory       (kbytes, -l) 64</span><br><span class="line">max memory size         (kbytes, -m) unlimited</span><br><span class="line">open files                      (-n) 1024</span><br><span class="line">pipe size            (512 bytes, -p) 8</span><br><span class="line">POSIX message queues     (bytes, -q) 819200</span><br><span class="line">real-time priority              (-r) 0</span><br><span class="line">stack size              (kbytes, -s) 8192</span><br><span class="line">cpu time               (seconds, -t) unlimited</span><br><span class="line">max user processes              (-u) 4096</span><br><span class="line">virtual memory          (kbytes, -v) unlimited</span><br><span class="line">file locks                      (-x) unlimited</span><br></pre></td></tr></table></figure><p>å‘ç° core file size é‚£ä¸€è¡Œé»˜è®¤æ˜¯ 0ï¼Œè¡¨ç¤ºå…³é—­ç”Ÿæˆ core æ–‡ä»¶ï¼Œå¯ä»¥ä½¿ç”¨â€œulimit é€‰é¡¹å è®¾ç½®å€¼â€æ¥ä¿®æ”¹ã€‚ä¾‹å¦‚ï¼Œå¯ä»¥å°† core æ–‡ä»¶ç”Ÿæˆæ”¹æˆå…·ä½“æŸä¸ªå€¼ï¼ˆæœ€å¤§å…è®¸çš„å­—èŠ‚æ•°ï¼‰ï¼Œè¿™é‡Œæˆ‘ä»¬ä½¿ç”¨ <strong>ulimit -c unlimited</strong>ï¼ˆ<strong>unlimited</strong> æ˜¯ -c é€‰é¡¹å€¼ï¼‰ç›´æ¥ä¿®æ”¹æˆä¸é™åˆ¶å¤§å°ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">[zhangyl@localhost flamingoserver]$ ulimit -c unlimited</span><br><span class="line">[zhangyl@localhost flamingoserver]$ ulimit -a</span><br><span class="line">core file size          (blocks, -c) unlimited</span><br><span class="line">data seg size           (kbytes, -d) unlimited</span><br><span class="line">scheduling priority             (-e) 0</span><br><span class="line">file size               (blocks, -f) unlimited</span><br><span class="line">pending signals                 (-i) 15045</span><br><span class="line">max locked memory       (kbytes, -l) 64</span><br><span class="line">max memory size         (kbytes, -m) unlimited</span><br><span class="line">open files                      (-n) 1024</span><br><span class="line">pipe size            (512 bytes, -p) 8</span><br><span class="line">POSIX message queues     (bytes, -q) 819200</span><br><span class="line">real-time priority              (-r) 0</span><br><span class="line">stack size              (kbytes, -s) 8192</span><br><span class="line">cpu time               (seconds, -t) unlimited</span><br><span class="line">max user processes              (-u) 4096</span><br><span class="line">virtual memory          (kbytes, -v) unlimited</span><br><span class="line">file locks                      (-x) unlimited</span><br></pre></td></tr></table></figure><blockquote><p>æ³¨æ„ï¼Œè¿™ä¸ªå‘½ä»¤å®¹æ˜“è®°é”™ï¼Œç¬¬ä¸€ä¸ª ulimit æ˜¯ <strong>Linux</strong> å‘½ä»¤ï¼Œ -c é€‰é¡¹åé¢çš„ unlimited æ˜¯<strong>é€‰é¡¹çš„å€¼</strong>ï¼Œè¡¨ç¤ºä¸é™åˆ¶å¤§å°ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥æ”¹æˆå…·ä½“çš„æ•°å€¼å¤§å°ã€‚å¾ˆå¤šåˆå­¦è€…åœ¨å­¦ä¹ è¿™ä¸ªå‘½ä»¤æ—¶ï¼Œæ€»æ˜¯æŠŠ <strong>ulimit å‘½ä»¤</strong>å’Œ <strong>unlimited å–å€¼</strong>ææ··æ·†ï¼Œå¦‚æœè¯»è€…èƒ½ç†è§£å…¶å«ä¹‰ï¼Œä¸€èˆ¬å°±ä¸ä¼šæ··æ·†äº†ã€‚</p></blockquote><p>è¿˜æœ‰ä¸€ä¸ªé—®é¢˜å°±æ˜¯ï¼Œè¿™æ ·ä¿®æ”¹ä»¥åï¼Œå½“æˆ‘ä»¬å…³é—­è¿™ä¸ª Linux ä¼šè¯ï¼Œè®¾ç½®é¡¹çš„å€¼å°±ä¼šè¢«è¿˜åŸæˆ 0ï¼Œè€ŒæœåŠ¡å™¨ç¨‹åºä¸€èˆ¬æ˜¯ä»¥åå°ç¨‹åºï¼ˆå®ˆæŠ¤è¿›ç¨‹ï¼‰é•¿å‘¨æœŸè¿è¡Œï¼Œä¹Ÿå°±æ˜¯è¯´å½“å‰ä¼šè¯è™½ç„¶è¢«å…³é—­ï¼ŒæœåŠ¡å™¨ç¨‹åºä»ç„¶ç»§ç»­åœ¨åå°è¿è¡Œï¼Œè¿™æ ·è¿™ä¸ªç¨‹åºåœ¨æŸä¸ªæ—¶åˆ»å´©æºƒåï¼Œæ˜¯æ— æ³•äº§ç”Ÿ core æ–‡ä»¶çš„ï¼Œè¿™ç§æƒ…å½¢ä¸åˆ©äºæ’æŸ¥é—®é¢˜ã€‚å› æ­¤ï¼Œæˆ‘ä»¬å¸Œæœ›è¿™ä¸ªé€‰é¡¹æ°¸ä¹…ç”Ÿæ•ˆï¼Œæ°¸ä¹…ç”Ÿæ•ˆçš„æ–¹å¼æ˜¯æŠŠâ€œulimit -c unlimitedâ€è¿™ä¸€è¡ŒåŠ åˆ° /etc/profile æ–‡ä»¶ä¸­å»ï¼Œæ”¾åˆ°è¿™ä¸ªæ–‡ä»¶æœ€åä¸€è¡Œå³å¯ã€‚</p><h3 id="å…·ä½“çš„ä¾‹å­"><a href="#å…·ä½“çš„ä¾‹å­" class="headerlink" title="å…·ä½“çš„ä¾‹å­"></a>å…·ä½“çš„ä¾‹å­</h3><p>ç”Ÿæˆçš„ core æ–‡ä»¶çš„é»˜è®¤å‘½åæ–¹å¼æ˜¯ core.pidï¼Œä¸¾ä¸ªä¾‹å­ï¼Œæ¯”å¦‚æŸä¸ªç¨‹åºå½“æ—¶è¿è¡Œæ—¶å…¶è¿›ç¨‹ ID æ˜¯ 16663ï¼Œé‚£ä¹ˆå®ƒå´©æºƒäº§ç”Ÿçš„ core æ–‡ä»¶çš„åç§°å°±æ˜¯ core.16663ã€‚æˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªå…·ä½“çš„ä¾‹å­ï¼ŒæŸæ¬¡æˆ‘å‘ç°æœåŠ¡å™¨ä¸Šçš„ msg_server å´©æºƒäº†ï¼Œäº§ç”Ÿäº†ä¸€ä¸ªå¦‚ä¸‹çš„ core æ–‡ä»¶ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">-rw------- 1 root root 10092544 Sep  9 15:14 core.21985</span><br></pre></td></tr></table></figure><p>å°±å¯ä»¥é€šè¿‡è¿™ä¸ª core.21985 æ–‡ä»¶æ¥æ’æŸ¥å´©æºƒçš„åŸå› ï¼Œè°ƒè¯• core æ–‡ä»¶çš„å‘½ä»¤æ˜¯ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gdb filename corename</span><br></pre></td></tr></table></figure><p>å…¶ä¸­ï¼Œfilename å°±æ˜¯ç¨‹åºåï¼Œè¿™é‡Œå°±æ˜¯ msg_serverï¼›corename æ˜¯ core.21985ï¼Œæˆ‘ä»¬è¾“å…¥ gdb msg_server core.21985 æ¥å¯åŠ¨è°ƒè¯•ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[root@myaliyun msg_server]# gdb msg_server core.21985</span><br><span class="line">Reading symbols from /root/teamtalkserver/src/msg_server/msg_server...done.</span><br><span class="line">[New LWP 21985]</span><br><span class="line">[Thread debugging using libthread_db enabled]</span><br><span class="line">Using host libthread_db library "/lib64/libthread_db.so.1".</span><br><span class="line">Core was generated by `./msg_server -d'.</span><br><span class="line">Program terminated with signal 11, Segmentation fault.</span><br><span class="line">#0  0x00000000004ceb1f in std::less&lt;CMsgConn*&gt;::operator() (this=0x2283878, __x=@0x7ffca83563a0: 0x2284430, __y=@0x51: &lt;error reading variable&gt;)</span><br><span class="line">    at /usr/include/c++/4.8.2/bits/stl_function.h:235</span><br><span class="line">235           { return __x &lt; __y; }</span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°ç¨‹åºå´©æºƒçš„åœ°æ–¹æ˜¯åœ¨ stl_function.h çš„ç¬¬ 235 è¡Œï¼Œç„¶åé€šè¿‡ <strong>bt</strong> å‘½ä»¤ï¼ˆåç»­å°†è¯¦ç»†ä»‹ç»è¯¥å‘½ä»¤ï¼‰æŸ¥çœ‹å´©æºƒæ—¶çš„è°ƒç”¨å †æ ˆï¼Œè¿›ä¸€æ­¥åˆ†æå°±èƒ½æ‰¾åˆ°å´©æºƒçš„åŸå› ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">(gdb) bt</span><br><span class="line">#0  0x00000000004ceb1f in std::less&lt;CMsgConn*&gt;::operator() (this=0x2283878, __x=@0x7ffca83563a0: 0x2284430, __y=@0x51: &lt;error reading variable&gt;)</span><br><span class="line">    at /usr/include/c++/4.8.2/bits/stl_function.h:235</span><br><span class="line">#1  0x00000000004cdd70 in std::_Rb_tree&lt;CMsgConn*, CMsgConn*, std::_Identity&lt;CMsgConn*&gt;, std::less&lt;CMsgConn*&gt;, std::allocator&lt;CMsgConn*&gt; &gt;::_M_get_insert_unique_pos</span><br><span class="line">    (this=0x2283878, __k=@0x7ffca83563a0: 0x2284430) at /usr/include/c++/4.8.2/bits/stl_tree.h:1324</span><br><span class="line">#2  0x00000000004cd18a in std::_Rb_tree&lt;CMsgConn*, CMsgConn*, std::_Identity&lt;CMsgConn*&gt;, std::less&lt;CMsgConn*&gt;, std::allocator&lt;CMsgConn*&gt; &gt;::_M_insert_unique&lt;CMsgConn* const&amp;&gt; (this=0x2283878, __v=@0x7ffca83563a0: 0x2284430) at /usr/include/c++/4.8.2/bits/stl_tree.h:1377</span><br><span class="line">#3  0x00000000004cc8bd in std::set&lt;CMsgConn*, std::less&lt;CMsgConn*&gt;, std::allocator&lt;CMsgConn*&gt; &gt;::insert (this=0x2283878, __x=@0x7ffca83563a0: 0x2284430)</span><br><span class="line">    at /usr/include/c++/4.8.2/bits/stl_set.h:463</span><br><span class="line">#4  0x00000000004cb011 in CImUser::AddUnValidateMsgConn (this=0x2283820, pMsgConn=0x2284430) at /root/teamtalkserver/src/msg_server/ImUser.h:42</span><br><span class="line">#5  0x00000000004c64ae in CDBServConn::_HandleValidateResponse (this=0x227f6a0, pPdu=0x22860d0) at /root/teamtalkserver/src/msg_server/DBServConn.cpp:319</span><br><span class="line">#6  0x00000000004c5e3d in CDBServConn::HandlePdu (this=0x227f6a0, pPdu=0x22860d0) at /root/teamtalkserver/src/msg_server/DBServConn.cpp:203</span><br><span class="line">#7  0x00000000005022b3 in CImConn::OnRead (this=0x227f6a0) at /root/teamtalkserver/src/base/imconn.cpp:148</span><br><span class="line">#8  0x0000000000501db3 in imconn_callback (callback_data=0x7f4b20 &lt;g_db_server_conn_map&gt;, msg=3 '\003', handle=8, pParam=0x0)</span><br><span class="line">    at /root/teamtalkserver/src/base/imconn.cpp:47</span><br><span class="line">#9  0x0000000000504025 in CBaseSocket::OnRead (this=0x227f820) at /root/teamtalkserver/src/base/BaseSocket.cpp:178</span><br><span class="line">#10 0x0000000000502f8a in CEventDispatch::StartDispatch (this=0x2279990, wait_timeout=100) at /root/teamtalkserver/src/base/EventDispatch.cpp:386</span><br><span class="line">#11 0x00000000004fddbe in netlib_eventloop (wait_timeout=100) at /root/teamtalkserver/src/base/netlib.cpp:160</span><br><span class="line">#12 0x00000000004d18c2 in main (argc=2, argv=0x7ffca8359978) at /root/teamtalkserver/src/msg_server/msg_server.cpp:213</span><br><span class="line">(gdb)</span><br></pre></td></tr></table></figure><p>å †æ ˆ #4 å°±ä¸æ˜¯åº“ä»£ç äº†ï¼Œæˆ‘ä»¬å¯ä»¥æ’æŸ¥è¿™é‡Œçš„ä»£ç ï¼Œç„¶åæ‰¾åˆ°é—®é¢˜åŸå› ã€‚</p><h3 id="è‡ªå®šä¹‰-core-æ–‡ä»¶åç§°"><a href="#è‡ªå®šä¹‰-core-æ–‡ä»¶åç§°" class="headerlink" title="è‡ªå®šä¹‰ core æ–‡ä»¶åç§°"></a>è‡ªå®šä¹‰ core æ–‡ä»¶åç§°</h3><p>ä½†æ˜¯ç»†å¿ƒçš„è¯»è€…ä¼šå‘ç°ä¸€ä¸ªé—®é¢˜ï¼šä¸€ä¸ªæ­£åœ¨ç¨‹åºè¿è¡Œæ—¶ï¼Œå…¶ PID æ˜¯å¯ä»¥è·å–åˆ°çš„ï¼Œä½†æ˜¯å½“ç¨‹åºå´©æºƒåï¼Œäº§ç”Ÿäº† core æ–‡ä»¶ï¼Œå°¤å…¶æ˜¯å¤šä¸ªç¨‹åºåŒæ—¶å´©æºƒï¼Œæˆ‘ä»¬æ ¹æœ¬æ²¡æ³•é€šè¿‡ core æ–‡ä»¶åç§°ä¸­çš„ PID æ¥åŒºåˆ†åˆ°åº•æ˜¯å“ªä¸ªæœåŠ¡è§£å†³è¿™ä¸ªé—®é¢˜æœ‰ä¸¤ä¸ªæ–¹æ³•ï¼š</p><ul><li>ç¨‹åºå¯åŠ¨æ—¶ï¼Œè®°å½•ä¸€ä¸‹è‡ªå·±çš„ PID<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">void writePid()</span><br><span class="line">{</span><br><span class="line">      uint32_t curPid = (uint32_t) getpid();</span><br><span class="line">      FILE* f = fopen("xxserver.pid", "w");</span><br><span class="line">      assert(f);</span><br><span class="line">      char szPid[32];</span><br><span class="line">      snprintf(szPid, sizeof(szPid), "%d", curPid);</span><br><span class="line">      fwrite(szPid, strlen(szPid), 1, f);</span><br><span class="line">      fclose(f);</span><br><span class="line">}</span><br></pre></td></tr></table></figure>æˆ‘ä»¬åœ¨ç¨‹åºå¯åŠ¨æ—¶è°ƒç”¨ä¸Šè¿° <strong>writePID</strong> å‡½æ•°ï¼Œå°†ç¨‹åºå½“æ—¶çš„ PID è®°å½•åˆ° <strong>xxserver.pid</strong> æ–‡ä»¶ä¸­å»ï¼Œè¿™æ ·å½“ç¨‹åºå´©æºƒæ—¶ï¼Œå¯ä»¥ä»è¿™ä¸ªæ–‡ä»¶ä¸­å¾—åˆ°è¿›ç¨‹å½“æ—¶è¿è¡Œçš„ PIDï¼Œè¿™æ ·å°±å¯ä»¥ä¸é»˜è®¤çš„ core æ–‡ä»¶ååé¢çš„ PID åšåŒ¹é…äº†ã€‚</li><li>è‡ªå®šä¹‰ core æ–‡ä»¶çš„åç§°å’Œç›®å½•<br><code>/proc/sys/kernel/core_uses_pid</code> å¯ä»¥æ§åˆ¶äº§ç”Ÿçš„ core æ–‡ä»¶çš„æ–‡ä»¶åä¸­æ˜¯å¦æ·»åŠ  PID ä½œä¸ºæ‰©å±•ï¼Œå¦‚æœæ·»åŠ åˆ™æ–‡ä»¶å†…å®¹ä¸º 1ï¼Œå¦åˆ™ä¸º 0ï¼›**/proc/sys/kernel/core_pattern** å¯ä»¥è®¾ç½®æ ¼å¼åŒ–çš„ core æ–‡ä»¶ä¿å­˜ä½ç½®æˆ–æ–‡ä»¶åã€‚ä¿®æ”¹æ–¹å¼å¦‚ä¸‹ï¼š<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">echo "/corefile/core-%e-%p-%t" &gt; /proc/sys/kernel/core_pattern</span><br></pre></td></tr></table></figure>å„ä¸ªå‚æ•°çš„è¯´æ˜å¦‚ä¸‹ï¼š</li></ul><table><thead><tr><th><strong>å‚æ•°åç§°</strong></th><th><strong>å‚æ•°å«ä¹‰ï¼ˆè‹±æ–‡ï¼‰</strong></th><th><strong>å‚æ•°å«ä¹‰ï¼ˆä¸­æ–‡ï¼‰</strong></th></tr></thead><tbody><tr><td>%p</td><td>insert pid into filename</td><td>æ·»åŠ  pid åˆ° core æ–‡ä»¶åä¸­</td></tr><tr><td>%u</td><td>insert current uid into filename</td><td>æ·»åŠ å½“å‰ uid åˆ° core æ–‡ä»¶åä¸­</td></tr><tr><td>%g</td><td>insert current gid into filename</td><td>æ·»åŠ å½“å‰ gid åˆ° core æ–‡ä»¶åä¸­</td></tr><tr><td>%s</td><td>insert signal that caused the coredump into the filename</td><td>æ·»åŠ å¯¼è‡´äº§ç”Ÿ core çš„ä¿¡å·åˆ° core æ–‡ä»¶åä¸­</td></tr><tr><td>%t</td><td>insert UNIX time that the coredump occurred into filename</td><td>æ·»åŠ  core æ–‡ä»¶ç”Ÿæˆæ—¶é—´ï¼ˆUNIXï¼‰åˆ° core æ–‡ä»¶åä¸­</td></tr><tr><td>%h</td><td>insert hostname where the coredump happened into filename</td><td>æ·»åŠ ä¸»æœºååˆ° core æ–‡ä»¶åä¸­</td></tr><tr><td>%e</td><td>insert coredumping executable name into filename</td><td>æ·»åŠ ç¨‹åºååˆ° core æ–‡ä»¶åä¸­</td></tr></tbody></table><p>å‡è®¾ç°åœ¨çš„ç¨‹åºå« <strong>test</strong>ï¼Œæˆ‘ä»¬è®¾ç½®è¯¥ç¨‹åºå´©æºƒæ—¶çš„ core æ–‡ä»¶åå¦‚ä¸‹ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">echo "/root/testcore/core-%e-%p-%t" &gt; /proc/sys/kernel/core_pattern</span><br></pre></td></tr></table></figure><p>é‚£ä¹ˆæœ€ç»ˆä¼šåœ¨ /root/testcore/ ç›®å½•ä¸‹ç”Ÿæˆçš„ test çš„ core æ–‡ä»¶åæ ¼å¼å¦‚ä¸‹ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">-rw-------. 1 root root 409600 Jan 14 13:54 core-test-13154-1547445291</span><br></pre></td></tr></table></figure><p><img lazyload="" src="/images/loading.svg" data-src="https://cdn.jsdelivr.net/gh/1258360186/image_hosting@master/20211010/gdb4.20p39qxvzn4w.jpg" alt="gdb4"></p><blockquote><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæ‚¨ä½¿ç”¨çš„ç”¨æˆ·å¿…é¡»å¯¹æŒ‡å®š core æ–‡ä»¶ç›®å½•å…·æœ‰å†™æƒé™ï¼Œå¦åˆ™ç”Ÿæˆæ—¶ ä¼šå› ä¸ºæƒé™ä¸è¶³è€Œå¯¼è‡´æ— æ³•ç”Ÿæˆ core æ–‡ä»¶ã€‚</p></blockquote><h2 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h2><h3 id="æœ¬èŠ‚è¯¾ä»‹ç»äº†ä½¿ç”¨-GDB-è°ƒè¯•ç¨‹åºçš„ä¸‰ç§æ–¹å¼ï¼Œç†è§£å¹¶ç†Ÿç»ƒä½¿ç”¨è¿™ä¸‰ç§æ–¹å¼å¯ä»¥å¸®åŠ©è¯»è€…åœ¨é‡åˆ°é—®é¢˜æ—¶å‡†ç¡®åœ°é€‰æ‹©è°ƒè¯•æ–¹æ³•ã€‚"><a href="#æœ¬èŠ‚è¯¾ä»‹ç»äº†ä½¿ç”¨-GDB-è°ƒè¯•ç¨‹åºçš„ä¸‰ç§æ–¹å¼ï¼Œç†è§£å¹¶ç†Ÿç»ƒä½¿ç”¨è¿™ä¸‰ç§æ–¹å¼å¯ä»¥å¸®åŠ©è¯»è€…åœ¨é‡åˆ°é—®é¢˜æ—¶å‡†ç¡®åœ°é€‰æ‹©è°ƒè¯•æ–¹æ³•ã€‚" class="headerlink" title="æœ¬èŠ‚è¯¾ä»‹ç»äº†ä½¿ç”¨ GDB è°ƒè¯•ç¨‹åºçš„ä¸‰ç§æ–¹å¼ï¼Œç†è§£å¹¶ç†Ÿç»ƒä½¿ç”¨è¿™ä¸‰ç§æ–¹å¼å¯ä»¥å¸®åŠ©è¯»è€…åœ¨é‡åˆ°é—®é¢˜æ—¶å‡†ç¡®åœ°é€‰æ‹©è°ƒè¯•æ–¹æ³•ã€‚"></a>æœ¬èŠ‚è¯¾ä»‹ç»äº†ä½¿ç”¨ GDB è°ƒè¯•ç¨‹åºçš„ä¸‰ç§æ–¹å¼ï¼Œç†è§£å¹¶ç†Ÿç»ƒä½¿ç”¨è¿™ä¸‰ç§æ–¹å¼å¯ä»¥å¸®åŠ©è¯»è€…åœ¨é‡åˆ°é—®é¢˜æ—¶å‡†ç¡®åœ°é€‰æ‹©è°ƒè¯•æ–¹æ³•ã€‚</h3><hr><p>æ¥æº:<a class="link" target="_blank" rel="noopener" href="https://gitbook.cn/gitchat/column/5c0e149eedba1b683458fd5f">èŒƒè ¡ã€ŠLinux GDB è°ƒè¯•æŒ‡å—ã€‹<i class="fas fa-external-link-alt"></i></a></p></div><div class="post-copyright-info"><div class="article-copyright-info-container"><ul><li>æœ¬æ–‡æ ‡é¢˜ï¼šå¯åŠ¨ GDB è°ƒè¯•</li><li>æœ¬æ–‡ä½œè€…ï¼šç™½ç¾½è¿‘å¢¨</li><li>åˆ›å»ºæ—¶é—´ï¼š2021-10-10 15:44:40</li><li>æœ¬æ–‡é“¾æ¥ï¼šhttps://keep.xpoet.cn/2021/10/10/GDB-0/</li><li>ç‰ˆæƒå£°æ˜ï¼šæœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ <a class="license" target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh">BY-NC-SA</a> è®¸å¯åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</li></ul></div></div><ul class="post-tags-box"><li class="tag-item"><a href="/tags/Linux/">#Linux</a>&nbsp;</li><li class="tag-item"><a href="/tags/C-%E5%BC%80%E5%8F%91/">#C++ å¼€å‘</a>&nbsp;</li><li class="tag-item"><a href="/tags/GDB/">#GDB</a>&nbsp;</li></ul><div class="article-nav"><div class="article-prev"><a class="prev" rel="prev" href="/2021/10/10/GDB-1/"><span class="left arrow-icon flex-center"><i class="fas fa-chevron-left"></i> </span><span class="title flex-center"><span class="post-nav-title-item">GDB å¸¸ç”¨å‘½ä»¤è¯¦è§£ï¼ˆä¸Šï¼‰</span> <span class="post-nav-item">ä¸Šä¸€ç¯‡</span></span></a></div><div class="article-next"><a class="next" rel="next" href="/2021/10/09/Linux-CPP-1/"><span class="title flex-center"><span class="post-nav-title-item">Linux C++ å¼€å‘ ç¬¬ä¸€è®²</span> <span class="post-nav-item">ä¸‹ä¸€ç¯‡</span> </span><span class="right arrow-icon flex-center"><i class="fas fa-chevron-right"></i></span></a></div></div><div class="comment-container"><div class="comments-container"><div id="comment-anchor"></div><div class="comment-area-title"><i class="fas fa-comments">&nbsp;è¯„è®º</i></div><div class="valine-container"><script data-pjax src="//cdn.jsdelivr.net/npm/valine@latest/dist/Valine.min.js"></script><div id="vcomments"></div><script data-pjax>function loadValine(){function e(e){switch(e){case"en":return"Author";case"zh-CN":return"åšä¸»";default:return"Master"}}new Valine({el:"#vcomments",appId:"irqOqaGORMEoxUV1bBigEGyr-gzGzoHsz",appKey:"Dkd9JB0KYotx5nS6IA6PKB6f",meta:["nick","mail","link"],avatar:"wavatar",enableQQ:!0,placeholder:"ğŸ˜œ å°½æƒ…åæ§½å§~",lang:"zh-CN".toLowerCase()});const a=setInterval(()=>{const n=document.querySelectorAll("#vcomments .vcards .vcard");if(n.length>0){let t="ç™½ç¾½è¿‘å¢¨";if(t)for(let a of n){const n=a.querySelector(".vhead .vnick"),r=n.innerHTML;r===t&&(n.innerHTML=`${r} <span class="author">${e(KEEP.hexo_config.language)}</span>`)}clearInterval(a)}else clearInterval(a)},2e3)}{const e=setTimeout(()=>{loadValine(),clearTimeout(e)},1e3)}</script></div></div></div></div></div></div></div><div class="page-main-content-bottom"><footer class="footer"><div class="info-container"><div class="copyright-info info-item">&copy; <span>2020</span> - 2022&nbsp;<i class="fas fa-heart icon-animate"></i>&nbsp;<a href="/">ç™½ç¾½è¿‘å¢¨</a></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div class="website-count info-item"><span id="busuanzi_container_site_uv">è®¿é—®äººæ•°&nbsp;<span id="busuanzi_value_site_uv"></span>&ensp; </span><span id="busuanzi_container_site_pv">æ€»è®¿é—®é‡&nbsp;<span id="busuanzi_value_site_pv"></span></span></div><div class="theme-info info-item">ç”± <a target="_blank" href="https://hexo.io">Hexo</a> é©±åŠ¨&nbsp;|&nbsp;ä¸»é¢˜&nbsp;<a class="theme-version" target="_blank" href="https://github.com/XPoet/hexo-theme-keep">Keep v3.4.5</a></div></div></footer></div></div><div class="post-tools"><div class="post-tools-container"><ul class="tools-list"><li class="tools-item page-aside-toggle"><i class="fas fa-outdent"></i></li><li class="go-comment"><i class="fas fa-comment"></i></li></ul></div></div><div class="right-bottom-side-tools"><div class="side-tools-container"><ul class="side-tools-list"><li class="tools-item tool-font-adjust-plus flex-center"><i class="fas fa-search-plus"></i></li><li class="tools-item tool-font-adjust-minus flex-center"><i class="fas fa-search-minus"></i></li><li class="tools-item tool-expand-width flex-center"><i class="fas fa-arrows-alt-h"></i></li><li class="tools-item tool-dark-light-toggle flex-center"><i class="fas fa-moon"></i></li><li class="tools-item rss flex-center"><a class="flex-center" href="/atom.xml" target="_blank"><i class="fas fa-rss"></i></a></li><li class="tools-item tool-scroll-to-bottom flex-center"><i class="fas fa-arrow-down"></i></li></ul><ul class="exposed-tools-list"><li class="tools-item tool-toggle-show flex-center"><i class="fas fa-cog fa-spin"></i></li><li class="tools-item tool-scroll-to-top flex-center"><i class="arrow-up fas fa-arrow-up"></i> <span class="percent"></span></li></ul></div></div><aside class="page-aside"><div class="post-toc-wrap"><div class="post-toc"><ol class="nav"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%9F%B3%E4%B9%90%E5%B0%8F%E6%B8%AF"><span class="nav-number">1.</span> <span class="nav-text">éŸ³ä¹å°æ¸¯</span></a></li></ol><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%90%AF%E5%8A%A8-GDB-%E8%B0%83%E8%AF%95"><span class="nav-number"></span> <span class="nav-text">å¯åŠ¨ GDB è°ƒè¯•</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%9B%B4%E6%8E%A5%E8%B0%83%E8%AF%95%E7%9B%AE%E6%A0%87%E7%A8%8B%E5%BA%8F"><span class="nav-number"></span> <span class="nav-text">ç›´æ¥è°ƒè¯•ç›®æ ‡ç¨‹åº</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%99%84%E5%8A%A0%E8%BF%9B%E7%A8%8B"><span class="nav-number"></span> <span class="nav-text">é™„åŠ è¿›ç¨‹</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%B0%83%E8%AF%95-core-%E6%96%87%E4%BB%B6"><span class="nav-number"></span> <span class="nav-text">è°ƒè¯• core æ–‡ä»¶</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%85%B7%E4%BD%93%E7%9A%84%E4%BE%8B%E5%AD%90"><span class="nav-number"></span> <span class="nav-text">å…·ä½“çš„ä¾‹å­</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%87%AA%E5%AE%9A%E4%B9%89-core-%E6%96%87%E4%BB%B6%E5%90%8D%E7%A7%B0"><span class="nav-number"></span> <span class="nav-text">è‡ªå®šä¹‰ core æ–‡ä»¶åç§°</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%B0%8F%E7%BB%93"><span class="nav-number"></span> <span class="nav-text">å°ç»“</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%9C%AC%E8%8A%82%E8%AF%BE%E4%BB%8B%E7%BB%8D%E4%BA%86%E4%BD%BF%E7%94%A8-GDB-%E8%B0%83%E8%AF%95%E7%A8%8B%E5%BA%8F%E7%9A%84%E4%B8%89%E7%A7%8D%E6%96%B9%E5%BC%8F%EF%BC%8C%E7%90%86%E8%A7%A3%E5%B9%B6%E7%86%9F%E7%BB%83%E4%BD%BF%E7%94%A8%E8%BF%99%E4%B8%89%E7%A7%8D%E6%96%B9%E5%BC%8F%E5%8F%AF%E4%BB%A5%E5%B8%AE%E5%8A%A9%E8%AF%BB%E8%80%85%E5%9C%A8%E9%81%87%E5%88%B0%E9%97%AE%E9%A2%98%E6%97%B6%E5%87%86%E7%A1%AE%E5%9C%B0%E9%80%89%E6%8B%A9%E8%B0%83%E8%AF%95%E6%96%B9%E6%B3%95%E3%80%82"><span class="nav-number"></span> <span class="nav-text">æœ¬èŠ‚è¯¾ä»‹ç»äº†ä½¿ç”¨ GDB è°ƒè¯•ç¨‹åºçš„ä¸‰ç§æ–¹å¼ï¼Œç†è§£å¹¶ç†Ÿç»ƒä½¿ç”¨è¿™ä¸‰ç§æ–¹å¼å¯ä»¥å¸®åŠ©è¯»è€…åœ¨é‡åˆ°é—®é¢˜æ—¶å‡†ç¡®åœ°é€‰æ‹©è°ƒè¯•æ–¹æ³•ã€‚</span></a></li></ol></li></ol></li></div></div></aside><div class="image-viewer-container"><img src=""></div><div class="search-pop-overlay"><div class="popup search-popup"><div class="search-header"><span class="search-input-field-pre"><i class="fas fa-keyboard"></i></span><div class="search-input-container"><input autocomplete="off" autocorrect="off" autocapitalize="off" placeholder="æœç´¢..." spellcheck="false" type="search" class="search-input"></div><span class="popup-btn-close"><i class="fas fa-times"></i></span></div><div id="search-result"><div id="no-result"><i class="fas fa-spinner fa-pulse fa-5x fa-fw"></i></div></div></div></div></main><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.5/source/js/utils.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.5/source/js/main.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.5/source/js/header-shrink.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.5/source/js/back2top.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.5/source/js/dark-light-toggle.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.5/source/js/local-search.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.5/source/js/code-copy.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.5/source/js/lazyload.js"></script><div class="post-scripts pjax"><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.5/source/js/left-side-toggle.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.5/source/js/libs/anime.min.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.5/source/js/toc.js"></script></div><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.5/source/js/libs/pjax.min.js"></script><script>window.addEventListener("DOMContentLoaded",()=>{window.pjax=new Pjax({selectors:["head title",".page-container",".pjax"],history:!0,debug:!1,cacheBust:!1,timeout:0,analytics:!1,currentUrlFullReload:!1,scrollRestoration:!1}),document.addEventListener("pjax:send",()=>{KEEP.utils.pjaxProgressBarStart()}),document.addEventListener("pjax:complete",()=>{KEEP.utils.pjaxProgressBarEnd(),window.pjax.executeScripts(document.querySelectorAll("script[data-pjax], .pjax script")),KEEP.refresh()})})</script></body></html>